{"version":3,"sources":["components/Alert.js","hooks/http.hook.js","hooks/auth.hook.js","pages/AuthPage.js","components/Header.js","components/TodoList.js","context/TodoContext.js","pages/TodoListPage.js","pages/ConfrimRegPage.js","pages/LogoutPage.js","pages/DetailTodoPage.js","pages/AddTodoPage.js","App.js","router.js","index.js"],"names":["Alert","messages","clearState","status","delay","alertRef","useRef","useEffect","setTimeout","current","classList","remove","add","e","className","role","ref","style","margin","map","m","idx","useHttp","useState","loading","setLoading","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","resp","success","ok","json","data","storageName","useAuth","token","parse","localStorage","getItem","login","setItem","logout","removeItem","AuthPage","username","email","password","re_password","regForm","setRegForm","loginForm","setLoginForm","alert","setAlert","alertStatus","setAlertStatus","auth","usernameRegRef","emailRegRef","passwordRegRef","rePasswordRegRef","usernameLabelRegRef","emailLabelRegRef","passwordLabelRegRef","rePasswordLabelRegRef","usernameLoginRef","usernameLabelLoginRef","passwordLoginRef","passwordLabelLoginRef","registerHandler","errors","trim","innerText","push","length","mess","Object","entries","pop","loginHandler","indexOf","auth_token","window","location","reload","width","type","id","placeholder","onChange","prev","target","value","htmlFor","onClick","Header","page","fontSize","to","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","marginTop","href","TodoList","todos","updateTodos","deleteTodos","todo","checked","title","created_at","float","marginLeft","position","TodoContext","createContext","todoReducer","state","action","t","filter","TodoProvider","children","useReducer","dispatch","Provider","setTodos","updateTodo","deleteTodo","TodoListPage","useContext","authorization","then","res","update","_delete","find","ConfrimRegPage","useParams","uid","LogoutPage","DetailTodoPage","setTodo","titleRef","useHistory","save","description","textDecoration","maxLength","rows","AddTodoPage","form","setForm","titleLabelRef","submitHandler","console","log","cols","App","routes","path","exact","ReactDOM","render","document","getElementById"],"mappings":"yOAGe,SAASA,EAAT,GAAsE,IAAtDC,EAAqD,EAArDA,SAAUC,EAA2C,EAA3CA,WAA2C,IAA/BC,cAA+B,MAAxB,UAAwB,MAAbC,aAAa,MAAP,IAAO,EAC5EC,EAAWC,iBAAO,MAexB,OAbAC,qBAAU,WACRC,YAAW,WACT,IACEH,EAASI,QAAQC,UAAUC,OAAO,YAClCN,EAASI,QAAQC,UAAUE,IAAI,aAC/B,MAAOC,OACRT,GAEHI,YAAW,WACTN,EAAW,QACVE,EAAQ,QAIX,qBAAKU,UAAW,UAAuB,YAAXX,EAAuB,gBAAkB,gBAAkB,YAAaY,KAAK,QAAQC,IAAKX,EAAtH,SACE,oBAAIY,MAAO,CAACC,OAAQ,GAApB,SACGjB,EAASkB,KAAI,SAACC,EAAGC,GAAJ,OAAY,+BAAeD,EAAE,GAAjB,IAAsBA,EAAE,GAAF,YAAYA,EAAE,IAAO,OAAlCC,UCnBpC,IAAMC,EAAU,WAAO,IAAD,EACGC,oBAAS,GADZ,mBACpBC,EADoB,KACXC,EADW,KAyB3B,MAAO,CAACD,UAASE,QAtBDC,sBAAW,uCAAC,WAAOC,GAAP,mCAAAC,EAAA,yDAAYC,EAAZ,+BAAmB,MAAOC,EAA1B,+BAA+B,KAAMC,EAArC,+BAA6C,GACvEP,GAAW,GAEPM,IACFA,EAAOE,KAAKC,UAAUH,GACtBC,EAAQ,gBAAkB,qBAGfD,EARa,iCAQAI,MAAMP,EAAK,CAACE,SAAQC,OAAMC,YAR1B,4DAQ4CG,MAAMP,EAAK,CAACE,SAAQE,YARhE,+BAUN,OAFdI,EARoB,MAUjBjC,OAViB,wBAWxBsB,GAAW,GAXa,kBAYjB,CAACY,UAAWD,EAAKE,KAZA,yBAcPF,EAAKG,OAdE,eAcpBC,EAdoB,QAgBtB,UAAgBJ,EAAKE,GACzBb,GAAW,GAjBe,kBAmBnBe,GAnBmB,4CAAD,sDAoBxB,MCxBCC,EAAc,YACPC,EAAU,WAkBrB,MAAO,CAACC,MAhBM,WACZ,IACE,OAAOV,KAAKW,MAAMC,aAAaC,QAAQL,IAAcE,MACrD,MAAO9B,GACP,OAAO,OAYIkC,MARDpB,uBAAY,SAAAgB,GACxBE,aAAaG,QAAQP,EAAaR,KAAKC,UAAU,CAACS,aACjD,IAMmBM,OAJPtB,uBAAY,WACzBkB,aAAaK,WAAWT,KACvB,MCbU,SAASU,IAAY,IAAD,EACH5B,mBAAS,CACrC6B,SAAU,GAAIC,MAAO,GAAIC,SAAU,GAAIC,YAAa,KAFrB,mBAC1BC,EAD0B,KACjBC,EADiB,OAIClC,mBAAS,CACzCwB,MAAO,GAAIO,SAAU,KALU,mBAI1BI,EAJ0B,KAIfC,EAJe,OAOPpC,mBAAS,MAPF,mBAO1BqC,EAP0B,KAOnBC,EAPmB,OAQKtC,mBAAS,WARd,mBAQ1BuC,EAR0B,KAQbC,EARa,KAU1BrC,EAAWJ,IAAXI,QACDsC,EAAOtB,IAEPuB,EAAiB3D,iBAAO,MACxB4D,EAAc5D,iBAAO,MACrB6D,EAAiB7D,iBAAO,MACxB8D,EAAmB9D,iBAAO,MAC1B+D,EAAsB/D,iBAAO,MAC7BgE,EAAmBhE,iBAAO,MAC1BiE,EAAsBjE,iBAAO,MAC7BkE,EAAwBlE,iBAAO,MAE/BmE,EAAmBnE,iBAAO,MAC1BoE,EAAwBpE,iBAAO,MAC/BqE,EAAmBrE,iBAAO,MAC1BsE,EAAwBtE,iBAAO,MAG/BuE,EAAe,uCAAG,wCAAAhD,EAAA,yDACfuB,EAA0CI,EAA1CJ,SAAUC,EAAgCG,EAAhCH,MAAOC,EAAyBE,EAAzBF,SAAUC,EAAeC,EAAfD,YAE5BuB,EAAS,GAEV1B,EAAS2B,QAMZd,EAAexD,QAAQC,UAAUC,OAAO,aACxC0D,EAAoB5D,QAAQC,UAAUC,OAAO,aAC7C0D,EAAoB5D,QAAQuE,UAAY,aAPxCf,EAAexD,QAAQC,UAAUE,IAAI,aACrCyD,EAAoB5D,QAAQC,UAAUE,IAAI,aAC1CyD,EAAoB5D,QAAQuE,UAAY,yBACxCF,EAAOG,MAAK,IAMT5B,EAAM0B,QAMTb,EAAYzD,QAAQC,UAAUC,OAAO,aACrC2D,EAAiB7D,QAAQC,UAAUC,OAAO,aAC1C2D,EAAiB7D,QAAQuE,UAAY,UAPrCd,EAAYzD,QAAQC,UAAUE,IAAI,aAClC0D,EAAiB7D,QAAQC,UAAUE,IAAI,aACvC0D,EAAiB7D,QAAQuE,UAAY,yBACrCF,EAAOG,MAAK,IAMT3B,EAASyB,SACZZ,EAAe1D,QAAQC,UAAUE,IAAI,aACrC2D,EAAoB9D,QAAQC,UAAUE,IAAI,aAC1C2D,EAAoB9D,QAAQuE,UAAY,yBACxCF,EAAOG,MAAK,IACP1B,EAAYwB,SACjBX,EAAiB3D,QAAQC,UAAUE,IAAI,aACvC4D,EAAsB/D,QAAQC,UAAUE,IAAI,aAC5C4D,EAAsB/D,QAAQuE,UAAY,yBAC1CF,EAAOG,MAAK,IACT1B,IAAgBD,IACnBiB,EAAoB9D,QAAQuE,UAAY,wBACxCR,EAAsB/D,QAAQuE,UAAY,wBAE1Cb,EAAe1D,QAAQC,UAAUE,IAAI,aACrC2D,EAAoB9D,QAAQC,UAAUE,IAAI,aAC1CwD,EAAiB3D,QAAQC,UAAUE,IAAI,aACvC4D,EAAsB/D,QAAQC,UAAUE,IAAI,aAC5CkE,EAAOG,MAAK,IAGV3B,EAASyB,QAAUzB,IAAaC,IAClCgB,EAAoB9D,QAAQuE,UAAY,WACxCR,EAAsB/D,QAAQuE,UAAY,mBAE1Cb,EAAe1D,QAAQC,UAAUC,OAAO,aACxC4D,EAAoB9D,QAAQC,UAAUC,OAAO,aAC7CyD,EAAiB3D,QAAQC,UAAUC,OAAO,aAC1C6D,EAAsB/D,QAAQC,UAAUC,OAAO,cAG5CmE,EAAOI,OAxDU,kCAyDDxD,EAAQ,eAAgB,OAAQ,CAAC0B,WAAUC,QAAOC,WAAUC,gBAzD3D,SAyDdnB,EAzDc,QA2DXC,SACPQ,aAAaG,QAAQ,WAAYf,KAAKC,UAAU,CAACkB,WAAUE,cAC3DS,EAAe,WACfF,EAAS,CAAC,CAAC,2CAAD,OAAmBzB,EAAKiB,MAAxB,0SAEJ8B,EAAOC,OAAOC,QAAQjD,IACvBkD,MACLvB,EAAe,UACfF,EAASsB,IAnES,4CAAH,qDAwEfI,EAAY,uCAAG,oCAAA1D,EAAA,yDACZkB,EAAmBW,EAAnBX,MAAOO,EAAYI,EAAZJ,SACRwB,EAAS,GAEV/B,EAAMgC,QAMTN,EAAiBhE,QAAQC,UAAUC,OAAO,aAC1C+D,EAAsBjE,QAAQC,UAAUC,OAAO,aAC/C+D,EAAsBjE,QAAQuE,UAAY,aAP1CP,EAAiBhE,QAAQC,UAAUE,IAAI,aACvC8D,EAAsBjE,QAAQC,UAAUE,IAAI,aAC5C8D,EAAsBjE,QAAQuE,UAAY,yBAC1CF,EAAOG,MAAK,IAMT3B,EAASyB,QAMZJ,EAAiBlE,QAAQC,UAAUC,OAAO,aAC1CiE,EAAsBnE,QAAQC,UAAUC,OAAO,aAC/CiE,EAAsBnE,QAAQuE,UAAY,aAP1CL,EAAiBlE,QAAQC,UAAUE,IAAI,aACvCgE,EAAsBnE,QAAQC,UAAUE,IAAI,aAC5CgE,EAAsBnE,QAAQuE,UAAY,yBAC1CF,EAAOG,MAAK,IAOTH,EAAOI,OAzBO,sBA0BbnC,EAAMyC,QAAQ,MAAQ,GA1BT,iCA2BE9D,EAAQ,qBAAsB,OAAQ,CAAC2B,MAAON,EAAOO,aA3BvD,OA2BXlB,EA3BW,gDA6BEV,EAAQ,qBAAsB,OAAQ,CAAC0B,SAAUL,EAAOO,aA7B1D,QA6BXlB,EA7BW,eAgCZA,EAAKC,SAMR2B,EAAKjB,MAAMX,EAAKqD,YAChBC,OAAOC,SAASC,YANVT,EAAOC,OAAOC,QAAQjD,IACvBkD,MACLvB,EAAe,UACfF,EAASsB,IApCM,4CAAH,qDA6ClB,OACE,sBAAKrE,UAAU,sBAAf,UACE,oBAAIA,UAAU,cAAd,sBACA,qBAAKA,UAAU,8BAAf,SACE,sBAAKA,UAAU,WAAf,UAEE,qBAAKA,UAAU,wCAAf,SACE,sBAAKA,UAAU,gDAAgDG,MAAO,CAAC4E,MAAO,SAA9E,UACE,qBAAK/E,UAAU,cAAf,SAA6B,sGAC7B,qBAAKA,UAAU,8BAAf,SACE,uBAAMA,UAAU,YAAhB,UACE,sBAAKA,UAAU,kBAAf,UACE,uBAAOgF,KAAK,OAAOhF,UAAU,eAAeiF,GAAG,QAAQC,YAAY,oBAAoBhF,IAAKyD,EAAkBwB,SAAU,SAAApF,GAAC,OAAI8C,GAAa,SAAAuC,GAAI,kCACzIA,GADyI,IAE5InD,MAAOlC,EAAEsF,OAAOC,cAElB,wBAAOC,QAAQ,QAAQrF,IAAK0D,EAA5B,sBAA4D,wCAA5D,eAEF,sBAAK5D,UAAU,aAAf,UACE,uBAAOgF,KAAK,WAAWhF,UAAU,eAAeiF,GAAG,YAAYC,YAAY,WAAWhF,IAAK2D,EAAkBsB,SAAU,SAAApF,GAAC,OAAI8C,GAAa,SAAAuC,GAAI,kCACxIA,GADwI,IAE3I5C,SAAUzC,EAAEsF,OAAOC,cAErB,uBAAOC,QAAQ,YAAYrF,IAAK4D,EAAhC,8BAIN,qBAAK9D,UAAU,wBAAf,SACE,wBAAQA,UAAU,yBAAyBwF,QAASf,EAApD,2BAKN,qBAAKzE,UAAU,sCAAf,SACE,sBAAKA,UAAU,gDAAgDG,MAAO,CAAC4E,MAAO,SAA9E,UACE,qBAAK/E,UAAU,cAAf,SAA6B,sGAC7B,qBAAKA,UAAU,YAAf,SACE,uBAAMA,UAAU,YAAhB,UACE,sBAAKA,UAAU,kBAAf,UACE,uBAAOgF,KAAK,OAAOhF,UAAU,eAAeiF,GAAG,WAAW/E,IAAKiD,EAAgB+B,YAAY,WAAWC,SAAU,SAAApF,GAAC,OAAI4C,GAAW,SAAAyC,GAAI,kCAC/HA,GAD+H,IAElI9C,SAAUvC,EAAEsF,OAAOC,cAErB,uBAAOC,QAAQ,WAAWrF,IAAKqD,EAA/B,yBAEF,sBAAKvD,UAAU,aAAf,UACE,uBAAOgF,KAAK,QAAQhF,UAAU,eAAeiF,GAAG,QAAQ/E,IAAKkD,EAAa8B,YAAY,QAAQC,SAAU,SAAApF,GAAC,OAAI4C,GAAW,SAAAyC,GAAI,kCACvHA,GADuH,IAE1H7C,MAAOxC,EAAEsF,OAAOC,cAElB,uBAAOC,QAAQ,QAAQrF,IAAKsD,EAA5B,sBAEF,sBAAKxD,UAAU,aAAf,UACE,uBAAOgF,KAAK,WAAWhF,UAAU,eAAeiF,GAAG,WAAW/E,IAAKmD,EAAgB6B,YAAY,WAAWC,SAAU,SAAApF,GAAC,OAAI4C,GAAW,SAAAyC,GAAI,kCACnIA,GADmI,IAEtI5C,SAAUzC,EAAEsF,OAAOC,cAErB,uBAAOC,QAAQ,WAAWrF,IAAKuD,EAA/B,yBAEF,sBAAKzD,UAAU,aAAf,UACE,uBAAOgF,KAAK,WAAWhF,UAAU,eAAeiF,GAAG,cAAc/E,IAAKoD,EAAkB4B,YAAY,mBAAmBC,SAAU,SAAApF,GAAC,OAAI4C,GAAW,SAAAyC,GAAI,kCAChJA,GADgJ,IAEnJ3C,YAAa1C,EAAEsF,OAAOC,cAExB,uBAAOC,QAAQ,cAAcrF,IAAKwD,EAAlC,sCAIN,qBAAK1D,UAAU,wBAAf,SACE,wBAAQwF,QAASzB,EAAiB/D,UAAU,yBAA5C,gCAQT8C,EAAQ,cAAC5D,EAAD,CAAOC,SAAU2D,EAAO1D,WAAY2D,EAAU1D,OAAQ2D,IAAiB,QChOvE,SAASyC,EAAT,GAAiC,IAAD,IAAfC,YAAe,MAAV,QAAU,EAC7C,OACE,iCACE,qBAAK1F,UAAU,oDAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,cAAC,IAAD,CAAMA,UAAU,eAAeG,MAAO,CAACwF,SAAU,UAAWC,GAAG,IAA/D,uBACA,wBAAQ5F,UAAU,2BAA2BgF,KAAK,SAASa,iBAAe,WAClEC,iBAAe,kBAAkBC,gBAAc,iBAAiBC,gBAAc,QAC9EC,aAAW,oBAFnB,SAGE,sBAAMjG,UAAU,0BAElB,sBAAKA,UAAU,4BAA4BiF,GAAG,iBAA9C,UACE,qBAAIjF,UAAU,kCAAd,UACE,oBAAIA,UAAU,WAAWG,MAAO,CAACwF,SAAU,SAAUO,UAAW,GAAhE,SACE,cAAC,IAAD,CAAMlG,UAAS,mBAAuB,UAAT0F,EAAmB,SAAW,IAAME,GAAG,UAApE,qBAEF,oBAAI5F,UAAU,WAAWG,MAAO,CAACwF,SAAU,SAAUO,UAAW,GAAhE,SACE,cAAC,IAAD,CAAMlG,UAAS,mBAAuB,QAAT0F,EAAiB,SAAW,IAAME,GAAG,YAAlE,2BAGJ,mBAAGO,KAAK,UAAUnG,UAAU,yBAAyBG,MAAO,CAACwF,SAAU,UAAvE,8BCpBG,SAASS,EAAT,GAAsD,IAAnCC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,YAEpD,OACE,qBAAKvG,UAAU,OAAf,SACE,oBAAIA,UAAU,8BAAd,SACGqG,EAAMhG,KAAI,SAACmG,EAAMjG,GAAS,OACzB,oBAAIP,UAAS,4CAAuCwG,EAAKC,QAAU,UAAY,IAA/E,SACE,wBAAOzG,UAAU,aAAaG,MAAO,CAACwF,SAAU,UAAWJ,QAAShF,EAApE,UAA0EA,EAAI,EAA9E,KAAkF,eAAC,IAAD,CAAMqF,GAAE,iBAAYY,EAAKvB,IAAzB,UAAgCuB,EAAKE,MAArC,KAA8CF,EAAKG,WAAnD,OAAlF,IAAyJ,uBAAOF,UAAWD,EAAKC,QAASzG,UAAU,mBAAmBgF,KAAK,WAAWC,GAAI1E,EAAK4E,SAAU,kBAAMmB,EAAYE,EAAKvB,KAAK9E,MAAO,CAC1RyG,MAAO,OACPC,WAAY,EACZX,UAAW,EACXY,SAAU,WAEZ,wBAAQ9G,UAAU,oCAAoCwF,QAAS,kBAAMe,EAAYC,EAAKvB,KAAtF,mBAPwF1E,UCPpG,IAAMwG,EAAcC,0BAEdC,EAAc,SAACC,EAAOC,GAC1B,OAAQA,EAAOnC,MACb,IAAK,WAAY,OAAO,2BAAIkC,GAAX,IAAkBb,MAAOc,EAAOd,QACjD,IAAK,aAAc,OAAO,2BACrBa,GADc,IAEjBb,MAAOa,EAAMb,MAAMhG,KAAI,SAAA+G,GAErB,OADIA,EAAEnC,KAAOkC,EAAOlC,KAAImC,EAAEX,SAAYW,EAAEX,SACjCW,OAGX,IAAK,aAAc,OAAO,2BACrBF,GADc,IAEjBb,MAAOa,EAAMb,MAAMgB,QAAO,SAAAD,GAAC,OAAIA,EAAEnC,KAAOkC,EAAOlC,QAEjD,QAAS,OAAOiC,IAIPI,EAAe,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAAc,EAChBC,qBAAWP,EAAa,CAChDZ,MAAO,KAFiC,mBACnCa,EADmC,KAC5BO,EAD4B,KAS1C,OAAO,cAACV,EAAYW,SAAb,CAAsBpC,MAAO,CAClCe,MAAOa,EAAMb,MACbsB,SANe,SAAAtB,GAAK,OAAIoB,EAAS,CAACzC,KAAM,WAAYqB,WAOpDuB,WANiB,SAAA3C,GAAE,OAAIwC,EAAS,CAACzC,KAAM,aAAcC,QAOrD4C,WANiB,SAAA5C,GAAE,OAAIwC,EAAS,CAACzC,KAAM,aAAcC,SAEhD,SAKHsC,KAGSR,IC/BA,SAASe,IAAgB,IAAD,EACXrH,mBAAS,MADE,mBAC9BqC,EAD8B,KACvBC,EADuB,OAGagF,qBAAWhB,GAAtDV,EAH8B,EAG9BA,MAAOsB,EAHuB,EAGvBA,SAAUC,EAHa,EAGbA,WAAYC,EAHC,EAGDA,WAC7BhG,EAASD,IAATC,MACAjB,EAAWJ,IAAXI,QAGPnB,oBAAS,sBAAC,sBAAAsB,EAAA,sEACFH,EAAQ,cAAe,MAAO,KAAM,CAACoH,cAAc,SAAD,OAAWnG,OAChEoG,MAAK,SAAAC,GACAA,EAAI3G,iBACC2G,EAAI3G,QACXoG,EAASO,OALP,2CAQP,IAGH,IAAMC,EAAM,uCAAG,WAAMlD,GAAN,SAAAlE,EAAA,6DACb6G,EAAW3C,GADE,SAEPrE,EAAQ,4BAAD,OAA6BqE,GAAM,OAAQ,KAAM,CAAC+C,cAAc,SAAD,OAAWnG,OAF1E,2CAAH,sDAKNuG,EAAO,uCAAG,WAAMnD,GAAN,iBAAAlE,EAAA,6DACd8G,EAAW5C,GADG,SAERrE,EAAQ,qBAAD,OAAsBqE,GAAM,OAAQ,KAAM,CAAC+C,cAAc,SAAD,OAAWnG,OAFlE,SAGEwE,EAAMgC,MAAK,SAAAjB,GAAC,OAAIA,EAAEnC,KAAOA,KAAlCyB,EAHO,EAGPA,MACP3D,EAAS,CAAC,CAAC,8CAAD,OAAY2D,EAAZ,2EAJI,2CAAH,sDAQb,OACE,sBAAK1G,UAAU,QAAf,UACE,cAACyF,EAAD,IACA,qBAAKzF,UAAU,kCAAf,SACGqG,EAAMjC,OAAS,cAACgC,EAAD,CACdC,MAAOA,EACPC,YAAa6B,EACb5B,YAAa6B,IACV,4CAENtF,EAAQ,cAAC5D,EAAD,CAAOC,SAAU2D,EAAO1D,WAAY2D,EAAU1D,OAAO,SAASC,MAAO,MAAW,Q,MC5ChF,SAASgJ,IAAkB,IACjC1H,EAAWJ,IAAXI,QACAqB,EAASL,IAATK,MAFgC,EAGlBsG,cAAdC,EAHgC,EAGhCA,IAAK3G,EAH2B,EAG3BA,MAqBZ,OAlBApC,oBAAS,sBAAC,kCAAAsB,EAAA,sEACWH,EAAQ,0BAA2B,OAAQ,CAAC4H,MAAK3G,UAD5D,kBAGCN,QAHD,0BAIuBJ,KAAKW,MAAMC,aAAaC,QAAQ,aAAtDM,EAJD,EAICA,SAAUE,EAJX,EAIWA,SACjBT,aAAaK,WAAW,YALlB,SAOaxB,EAAQ,qBAAsB,OAAQ,CAAC0B,WAAUE,aAP9D,QAOAlB,EAPA,QASGC,SACPU,EAAMX,EAAKqD,YAGbC,OAAOC,SAASC,SAbV,4CAgBP,CAAC0D,EAAK3G,IAGP,qBAAK7B,UAAU,8DAAf,SACE,sBAAKA,UAAU,WAAf,UACE,wBACA,wBACA,wBACA,6BC/BO,SAASyI,IAAc,IAC7B7H,EAAWJ,IAAXI,QAD4B,EAEXgB,IAAjBC,EAF4B,EAE5BA,MAAOM,EAFqB,EAErBA,OAUd,OAPA1C,oBAAS,sBAAC,sBAAAsB,EAAA,sEACFH,EAAQ,sBAAuB,OAAQ,KAAM,CAACoH,cAAc,SAAD,OAAWnG,OADpE,OAERM,IACAyC,OAAOC,SAASC,SAHR,2CAIP,IAID,qBAAK9E,UAAU,8DAAf,SACE,sBAAKA,UAAU,WAAf,UACE,wBACA,wBACA,wBACA,6BChBO,SAAS0I,IAAkB,IAAD,EACfjI,mBAAS,IADM,mBAChC+F,EADgC,KAC1BmC,EAD0B,OAEblI,mBAAS,MAFI,mBAEhCqC,EAFgC,KAEzBC,EAFyB,OAGDtC,mBAAS,WAHR,mBAGhCuC,EAHgC,KAGnBC,EAHmB,KAKjC2F,EAAWpJ,iBAAO,MAClByF,EAAKsD,cAAYtD,GAChBd,EAAQ0E,cAAR1E,KACAvD,EAAWJ,IAAXI,QACAiB,EAASD,IAATC,MAGPpC,oBAAS,sBAAC,4BAAAsB,EAAA,sEACWH,EAAQ,cAAD,OAAeqE,GAAM,MAAO,KAAM,CAAC+C,cAAc,SAAD,OAAWnG,OAD7E,QACF2E,EADE,QAEEjF,SACR4C,EAAK,WAEPwE,EAAQnC,GALA,2CAMP,CAACvB,IAGJ,IAAMmD,EAAO,uCAAG,sBAAArH,EAAA,sEACRH,EAAQ,qBAAD,OAAsB4F,EAAKvB,IAAM,OAAQ,KAAM,CAAC+C,cAAc,SAAD,OAAWnG,OADvE,OAEdsC,EAAK,WAFS,2CAAH,qDAKPgE,EAAM,uCAAG,sBAAApH,EAAA,6DACb4H,GAAQ,SAAAvD,GAAI,kCACPA,GADO,IAEVqB,SAAUrB,EAAKqB,aAHJ,SAKP7F,EAAQ,4BAAD,OAA6BqE,GAAM,OAAQ,KAAM,CAAC+C,cAAc,SAAD,OAAWnG,OAL1E,2CAAH,qDAQNiH,EAAI,uCAAG,oCAAA/H,EAAA,yDACJ2F,EAAsBF,EAAtBE,MAAOqC,EAAevC,EAAfuC,YACTrC,EAAMzC,OAFA,gBAGT2E,EAASjJ,QAAQC,UAAUE,IAAI,aAHtB,8BAKT8I,EAASjJ,QAAQC,UAAUC,OAAO,aALzB,SAMUe,EAAQ,qBAAD,OAAsB4F,EAAKvB,IAAM,OAAQ,CAACyB,QAAOqC,eAAc,CAACf,cAAc,SAAD,OAAWnG,OANzG,OAMHP,EANG,OAOHC,EAAUD,EAAKC,SACf8C,EAAOC,OAAOC,QAAQjD,IAEvBkD,MACLzB,EAASsB,GACTpB,EAAe1B,EAAU,UAAY,UAZ5B,4CAAH,qDAiBV,OACE,sBAAKvB,UAAU,QAAf,UACE,cAACyF,EAAD,CAAQC,KAAK,SACb,qBAAK1F,UAAU,kCAAf,SACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,uCAAd,UACE,uBAAOG,MAAOqG,EAAKC,QAAU,CAACuC,eAAgB,gBAAkB,GAAI9D,YAAY,QAAQF,KAAK,OAAOM,MAAOkB,EAAKE,MAAOxG,IAAK0I,EAAU5I,UAAU,sBAAsBmF,SAAU,SAAApF,GAAC,OAAI4I,GAAQ,SAAAvD,GAAI,kCAC5LA,GAD4L,IAE/LsB,MAAO3G,EAAEsF,OAAOC,cAHpB,OAME,uBAAO2D,UAAW,GAAI9D,SAAU,kBAAMgD,KAAUnD,KAAK,WAAWyB,UAAWD,EAAKC,QAASzG,UAAU,mBAAmBG,MAAO,CAC3HyG,MAAO,OACPC,WAAY,EACZC,SAAU,gBAIhB,sBAAK9G,UAAU,YAAf,UACE,mBAAGA,UAAU,YAAYG,MAAO,CAACwF,SAAU,UAA3C,SACE,0BAAUuD,KAAK,IAAIlJ,UAAU,eAAekF,YAAY,cAAcI,MAAOkB,EAAKuC,YAAaE,UAAW,IAAK9D,SAAU,SAAApF,GAAC,OAAI4I,GAAQ,SAAAvD,GAAI,kCACrIA,GADqI,IAExI2D,YAAahJ,EAAEsF,OAAOC,gBAG1B,uBACA,mBAAGtF,UAAU,YAAb,SAA0BwG,EAAKG,gBAEjC,sBAAK3G,UAAU,cAAf,UACE,wBAAQA,UAAU,uBAAuBwF,QAASsD,EAAM3I,MAAO,CAACwF,SAAU,UAA1E,kBACA,wBAAQ3F,UAAU,iBAAiBwF,QAAS4C,EAASjI,MAAO,CAACwF,SAAU,UAAvE,4BAIL7C,EAAQ,cAAC5D,EAAD,CAAOC,SAAU2D,EAAO1D,WAAY2D,EAAU1D,OAAQ2D,IAAkB,QCvFxE,SAASmG,IAAe,IAAD,EACZ1I,mBAAS,CAACiG,MAAO,GAAIqC,YAAa,KADtB,mBAC7BK,EAD6B,KACvBC,EADuB,OAEE5I,mBAAS,WAFX,mBAE7BuC,EAF6B,KAEhBC,EAFgB,OAGVxC,mBAAS,MAHC,mBAG7BqC,EAH6B,KAGtBC,EAHsB,KAK9B6F,EAAWpJ,iBAAO,MAClB8J,EAAgB9J,iBAAO,MAEtBoB,EAAWJ,IAAXI,QACAiB,EAASD,IAATC,MAGD0H,EAAa,uCAAG,sCAAAxI,EAAA,yDACb2F,EAAsB0C,EAAtB1C,MAAOqC,EAAeK,EAAfL,YACR/E,EAAS,GAEV0C,EAAMzC,QAMT2E,EAASjJ,QAAQC,UAAUC,OAAO,aAClCyJ,EAAc3J,QAAQC,UAAUC,OAAO,aACvCyJ,EAAc3J,QAAQuE,UAAY,aAPlC0E,EAASjJ,QAAQC,UAAUE,IAAI,aAC/BwJ,EAAc3J,QAAQC,UAAUE,IAAI,aACpCwJ,EAAc3J,QAAQuE,UAAY,yBAClCF,EAAOG,MAAK,IAOTH,EAAOI,OAfQ,gCAgBCxD,EAAQ,oBAAqB,OAAQ,CAAC8F,QAAOqC,eAAc,CAACf,cAAc,SAAD,OAAWnG,OAhBrF,QAgBZP,EAhBY,QAiBTC,UACD8C,EAAOC,OAAOC,QAAQjD,IACvBkD,MACLgF,QAAQC,IAAIpF,GACZtB,EAASsB,GACTpB,EAAe,cAEToB,EAAOC,OAAOC,QAAQjD,IACvBkD,MACLzB,EAASsB,GACTpB,EAAe,WA3BC,2CAAH,qDAiCnB,OACE,sBAAKjD,UAAU,QAAf,UACE,cAACyF,EAAD,CAAQC,KAAK,QACb,qBAAK1F,UAAU,gEAAf,SACE,sBAAKA,UAAU,kDAAkDG,MAAO,CAAC4E,MAAO,SAAhF,UACE,qBAAK/E,UAAU,cAAf,SAA6B,4CAC7B,qBAAKA,UAAU,8BAAf,SACE,uBAAMA,UAAU,YAAhB,UAEE,sBAAKA,UAAU,kBAAf,UACE,uBAAOgF,KAAK,OAAO9E,IAAK0I,EAAU5I,UAAU,eAAeiF,GAAG,QAAQC,YAAY,QAAQ+D,UAAW,GAAI9D,SAAU,SAAApF,GAAC,OAAIsJ,GAAQ,SAAAjE,GAAI,kCAC/HA,GAD+H,IAElIsB,MAAO3G,EAAEsF,OAAOC,cAElB,uBAAOC,QAAQ,QAAQrF,IAAKoJ,EAA5B,sBAGF,sBAAKtJ,UAAU,aAAf,UACE,0BAAUiF,GAAG,OAAOyE,KAAK,KAAKR,KAAK,IAAIlJ,UAAU,eAAekF,YAAY,cAAc+D,UAAW,IAAK9D,SAAU,SAAApF,GAAC,OAAIsJ,GAAQ,SAAAjE,GAAI,kCAChIA,GADgI,IAEnI2D,YAAahJ,EAAEsF,OAAOC,cAExB,uBAAOC,QAAQ,OAAf,iCAKN,qBAAKvF,UAAU,wBAAf,SACE,wBAAQA,UAAU,yBAAyBwF,QAAS+D,EAApD,2BAILzG,EAAQ,cAAC5D,EAAD,CAAOC,SAAU2D,EAAO1D,WAAY2D,EAAU1D,OAAQ2D,IAAkB,QC7ExE,SAAS2G,IAAO,IACtB9H,EAASD,IAATC,MACD+H,IAAsB/H,ICIxB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgI,KAAK,UAAUC,OAAK,EAA3B,SACE,cAAChC,EAAD,MAEF,cAAC,IAAD,CAAO+B,KAAK,aAAZ,SACE,cAACnB,EAAD,MAEF,cAAC,IAAD,CAAOmB,KAAK,WAAWC,OAAK,EAA5B,SACE,cAACX,EAAD,MAEF,cAAC,IAAD,CAAOU,KAAK,UAAZ,SACE,cAACpB,EAAD,MAEF,cAAC,IAAD,CAAU7C,GAAG,eAMjB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiE,KAAK,IAAIC,OAAK,EAArB,SACE,cAACzH,EAAD,MAEF,cAAC,IAAD,CAAOwH,KAAK,wBAAZ,SACE,cAACvB,EAAD,MAEF,cAAC,IAAD,CAAU1C,GAAG,SD5BjB,OACE,cAAC,IAAD,UACE,cAAC,EAAD,UACGgE,M,METTG,IAASC,OACP,cAACL,EAAD,IACAM,SAASC,eAAe,W","file":"static/js/main.cc7ed308.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react'\r\n\r\n\r\nexport default function Alert({messages, clearState, status='success', delay=4000}) {\r\n  const alertRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      try {\r\n        alertRef.current.classList.remove('slide-in')\r\n        alertRef.current.classList.add('slide-out')\r\n      } catch (e) {}\r\n    }, delay)\r\n\r\n    setTimeout(() => {\r\n      clearState(null)\r\n    }, delay + 500)\r\n  })\r\n\r\n  return (\r\n    <div className={\"alert \" + (status === 'success' ? \"alert-success\" : \"alert-danger\") + \" slide-in\"} role=\"alert\" ref={alertRef}>\r\n      <ul style={{margin: 0}}>\r\n        {messages.map((m, idx) => <li key={idx}>{m[0]} {m[1] ? `- ${m[1]}` : null}</li>)}\r\n      </ul>\r\n    </div>\r\n  )\r\n}","import { useState, useCallback } from 'react'\r\n\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const request = useCallback(async (url, method='get', body=null, headers={}) => {\r\n    setLoading(true)\r\n\r\n    if (body) {\r\n      body = JSON.stringify(body)\r\n      headers['Content-Type'] = 'application/json'\r\n    }\r\n\r\n    const resp = body ? await fetch(url, {method, body, headers}) : await fetch(url, {method, headers})\r\n\r\n    if (resp.status === 204) {\r\n      setLoading(false)\r\n      return {success: !!resp.ok}\r\n    }\r\n    const data = await resp.json()\r\n\r\n    data['success'] = !!resp.ok\r\n    setLoading(false)\r\n\r\n    return data\r\n  }, [])\r\n\r\n  return {loading, request}\r\n}","import { useCallback } from 'react'\r\n\r\nconst storageName = 'userToken'\r\nexport const useAuth = () => {\r\n\r\n  const token = () => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(storageName)).token\r\n    } catch (e) {\r\n      return null\r\n    }\r\n  }\r\n\r\n  const login = useCallback(token => {\r\n    localStorage.setItem(storageName, JSON.stringify({token}))\r\n  }, [])\r\n\r\n  const logout = useCallback(() => {\r\n    localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  return {token, login, logout}\r\n}","import React, { useState, useRef } from 'react'\r\nimport Alert from '../components/Alert'\r\nimport { useHttp } from '../hooks/http.hook'\r\nimport { useAuth } from '../hooks/auth.hook'\r\n\r\n\r\nexport default function AuthPage() {\r\n  const [regForm, setRegForm] = useState({\r\n    username: '', email: '', password: '', re_password: ''\r\n  })\r\n  const [loginForm, setLoginForm] = useState({\r\n    login: '', password: ''\r\n  })\r\n  const [alert, setAlert] = useState(null)\r\n  const [alertStatus, setAlertStatus] = useState('success')\r\n\r\n  const {request} = useHttp()\r\n  const auth = useAuth()\r\n\r\n  const usernameRegRef = useRef(null)\r\n  const emailRegRef = useRef(null)\r\n  const passwordRegRef = useRef(null)\r\n  const rePasswordRegRef = useRef(null)\r\n  const usernameLabelRegRef = useRef(null)\r\n  const emailLabelRegRef = useRef(null)\r\n  const passwordLabelRegRef = useRef(null)\r\n  const rePasswordLabelRegRef = useRef(null)\r\n\r\n  const usernameLoginRef = useRef(null)\r\n  const usernameLabelLoginRef = useRef(null)\r\n  const passwordLoginRef = useRef(null)\r\n  const passwordLabelLoginRef = useRef(null)\r\n\r\n\r\n  const registerHandler = async () => {\r\n    const {username, email, password, re_password} = regForm\r\n\r\n    const errors = []\r\n\r\n    if (!username.trim()) {\r\n      usernameRegRef.current.classList.add('has-error')\r\n      usernameLabelRegRef.current.classList.add('has-error')\r\n      usernameLabelRegRef.current.innerText = 'This field is required'\r\n      errors.push(false)\r\n    } else {\r\n      usernameRegRef.current.classList.remove('has-error')\r\n      usernameLabelRegRef.current.classList.remove('has-error')\r\n      usernameLabelRegRef.current.innerText = 'Username'\r\n    }\r\n    if (!email.trim()) {\r\n      emailRegRef.current.classList.add('has-error')\r\n      emailLabelRegRef.current.classList.add('has-error')\r\n      emailLabelRegRef.current.innerText = 'This field is required'\r\n      errors.push(false)\r\n    }  else {\r\n      emailRegRef.current.classList.remove('has-error')\r\n      emailLabelRegRef.current.classList.remove('has-error')\r\n      emailLabelRegRef.current.innerText = 'Email'\r\n    }\r\n    if (!password.trim()) {\r\n      passwordRegRef.current.classList.add('has-error')\r\n      passwordLabelRegRef.current.classList.add('has-error')\r\n      passwordLabelRegRef.current.innerText = 'This field is required'\r\n      errors.push(false)\r\n    } if (!re_password.trim()) {\r\n      rePasswordRegRef.current.classList.add('has-error')\r\n      rePasswordLabelRegRef.current.classList.add('has-error')\r\n      rePasswordLabelRegRef.current.innerText = 'This field is required'\r\n      errors.push(false)\r\n   } if (re_password !== password) {\r\n      passwordLabelRegRef.current.innerText = 'Password must be same'\r\n      rePasswordLabelRegRef.current.innerText = 'Password must be same'\r\n\r\n      passwordRegRef.current.classList.add('has-error')\r\n      passwordLabelRegRef.current.classList.add('has-error')\r\n      rePasswordRegRef.current.classList.add('has-error')\r\n      rePasswordLabelRegRef.current.classList.add('has-error')\r\n      errors.push(false)\r\n    }\r\n\r\n    if (password.trim() && password === re_password) {\r\n      passwordLabelRegRef.current.innerText = 'Password'\r\n      rePasswordLabelRegRef.current.innerText = 'Confirm password'\r\n\r\n      passwordRegRef.current.classList.remove('has-error')\r\n      passwordLabelRegRef.current.classList.remove('has-error')\r\n      rePasswordRegRef.current.classList.remove('has-error')\r\n      rePasswordLabelRegRef.current.classList.remove('has-error')\r\n    }\r\n\r\n    if (!errors.length) {\r\n      const resp = await request('/auth/users/', 'post', {username, email, password, re_password})\r\n\r\n      if (resp.success) {\r\n        localStorage.setItem('userData', JSON.stringify({username, password}))\r\n        setAlertStatus('success')\r\n        setAlert([[`На ваш email - ${resp.email} было отправленно письмо с подтверждением регистрации`]])\r\n      } else {\r\n        const mess = Object.entries(resp)\r\n        mess.pop()\r\n        setAlertStatus('danger')\r\n        setAlert(mess)\r\n      }\r\n    }\r\n  }\r\n\r\n  const loginHandler = async () => {\r\n    const {login, password} = loginForm\r\n    const errors = []\r\n\r\n    if (!login.trim()) {\r\n      usernameLoginRef.current.classList.add('has-error')\r\n      usernameLabelLoginRef.current.classList.add('has-error')\r\n      usernameLabelLoginRef.current.innerText = 'This field is required'\r\n      errors.push(false)\r\n    } else {\r\n      usernameLoginRef.current.classList.remove('has-error')\r\n      usernameLabelLoginRef.current.classList.remove('has-error')\r\n      usernameLabelLoginRef.current.innerText = 'Username'\r\n    }\r\n    if (!password.trim()) {\r\n      passwordLoginRef.current.classList.add('has-error')\r\n      passwordLabelLoginRef.current.classList.add('has-error')\r\n      passwordLabelLoginRef.current.innerText = 'This field is required'\r\n      errors.push(false)\r\n    } else {\r\n      passwordLoginRef.current.classList.remove('has-error')\r\n      passwordLabelLoginRef.current.classList.remove('has-error')\r\n      passwordLabelLoginRef.current.innerText = 'Password'\r\n    }\r\n\r\n    if (!errors.length) {\r\n      if (login.indexOf('@') > -1) {\r\n        var resp = await request('/auth/token/login/', 'post', {email: login, password})\r\n      } else {\r\n        var resp = await request('/auth/token/login/', 'post', {username: login, password})\r\n      }\r\n\r\n      if (!resp.success) {\r\n        const mess = Object.entries(resp)\r\n        mess.pop()\r\n        setAlertStatus('danger')\r\n        setAlert(mess)\r\n      } else {\r\n        auth.login(resp.auth_token)\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container-fluid m-5\">\r\n      <h1 className=\"text-center\">Todo App</h1>\r\n      <div className=\"container position-relative\">\r\n        <div className=\"row mt-5\">\r\n\r\n          <div className=\"col-md-6 d-flex justify-content-start\">\r\n            <div className=\"card mycard text-center bg-success text-white\" style={{width: '25rem'}}>\r\n              <div className=\"card-header\"><h2>Авторизация</h2></div>\r\n              <div className=\"card-body position-relative\">\r\n                <form className=\"text-left\">\r\n                  <div className=\"form-group mt-3\">\r\n                    <input type=\"text\" className=\"form-control\" id=\"login\" placeholder=\"Username or email\" ref={usernameLoginRef} onChange={e => setLoginForm(prev => ({\r\n                      ...prev,\r\n                      login: e.target.value\r\n                    }))}/>\r\n                    <label htmlFor=\"login\" ref={usernameLabelLoginRef}>Username <strong>or</strong> Email</label>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" className=\"form-control\" id=\"lpassword\" placeholder=\"password\" ref={passwordLoginRef} onChange={e => setLoginForm(prev => ({\r\n                      ...prev,\r\n                      password: e.target.value\r\n                    }))}/>\r\n                    <label htmlFor=\"lpassword\" ref={passwordLabelLoginRef}>Password</label>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              <div className=\"card-footer text-left\">\r\n                <button className=\"btn btn-primary btn-lg\" onClick={loginHandler}>Submit</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-6 d-flex justify-content-end\">\r\n            <div className=\"card mycard text-center bg-warning text-white\" style={{width: '25rem'}}>\r\n              <div className=\"card-header\"><h2>Регистрация</h2></div>\r\n              <div className=\"card-body\">\r\n                <form className=\"text-left\">\r\n                  <div className=\"form-group mt-3\">\r\n                    <input type=\"text\" className=\"form-control\" id=\"username\" ref={usernameRegRef} placeholder=\"Username\" onChange={e => setRegForm(prev => ({\r\n                      ...prev,\r\n                      username: e.target.value,\r\n                    }))}/>\r\n                    <label htmlFor=\"username\" ref={usernameLabelRegRef}>Username</label>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"email\" className=\"form-control\" id=\"email\" ref={emailRegRef} placeholder=\"Email\" onChange={e => setRegForm(prev => ({\r\n                      ...prev,\r\n                      email: e.target.value,\r\n                    }))}/>\r\n                    <label htmlFor=\"email\" ref={emailLabelRegRef}>Email</label>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" className=\"form-control\" id=\"password\" ref={passwordRegRef} placeholder=\"Password\" onChange={e => setRegForm(prev => ({\r\n                      ...prev,\r\n                      password: e.target.value,\r\n                    }))}/>\r\n                    <label htmlFor=\"password\" ref={passwordLabelRegRef}>Password</label>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" className=\"form-control\" id=\"re_password\" ref={rePasswordRegRef} placeholder=\"Confirm password\" onChange={e => setRegForm(prev => ({\r\n                      ...prev,\r\n                      re_password: e.target.value,\r\n                    }))}/>\r\n                    <label htmlFor=\"re_password\" ref={rePasswordLabelRegRef}>Confirm password</label>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              <div className=\"card-footer text-left\">\r\n                <button onClick={registerHandler} className=\"btn btn-primary btn-lg\">Submit</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      {alert ? <Alert messages={alert} clearState={setAlert} status={alertStatus}/> : null}\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function Header({page='todos'}) {\r\n  return (\r\n    <header>\r\n      <nav className=\"navbar navbar-expand-md navbar-dark w-100 bg-dark\">\r\n        <div className=\"container-fluid\">\r\n          <Link className=\"navbar-brand\" style={{fontSize: '1.8rem'}} to=\"/\">Todo List</Link>\r\n          <button className=\"navbar-toggler collapsed\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                  data-bs-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\"\r\n                  aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"/>\r\n          </button>\r\n          <div className=\"navbar-collapse collapse \" id=\"navbarCollapse\">\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-md-0\">\r\n              <li className=\"nav-item\" style={{fontSize: '1.2rem', marginTop: 4}}>\r\n                <Link className={`nav-link ${page === 'todos' ? 'active' : ''}`} to=\"/todos/\">Todos</Link>\r\n              </li>\r\n              <li className=\"nav-item\" style={{fontSize: '1.2rem', marginTop: 4}}>\r\n                <Link className={`nav-link ${page === 'add' ? 'active' : ''}`} to=\"/addtodo/\">Add Todo</Link>\r\n              </li>\r\n            </ul>\r\n            <a href=\"/logout\" className=\"btn btn-outline-danger\" style={{fontSize: '1.2rem'}}>Logout</a>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function TodoList({todos, updateTodos, deleteTodos}) {\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        {todos.map((todo, idx) => {return (\r\n          <li className={`list-group-item position-relative ${todo.checked ? 'checked' : ''}`} key={idx}>\r\n            <label className=\"form-check\" style={{fontSize: '1.4rem'}} htmlFor={idx}>{idx+1}: <Link to={`/todos/${todo.id}`}>{todo.title} ({todo.created_at})</Link> <input checked={!!todo.checked} className=\"form-check-input\" type=\"checkbox\" id={idx} onChange={() => updateTodos(todo.id)} style={{\r\n              float: 'none',\r\n              marginLeft: 8,\r\n              marginTop: 9,\r\n              position: 'unset',\r\n            }}/>\r\n            <button className=\"delete btn btn-danger float-right\" onClick={() => deleteTodos(todo.id)}>X</button>\r\n            </label>\r\n          </li>\r\n        )})}\r\n      </ul>\r\n    </div>\r\n  )\r\n}","import { createContext, useReducer } from 'react'\r\n\r\n\r\nconst TodoContext = createContext()\r\n\r\nconst todoReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setTodos': return {...state, todos: action.todos}\r\n    case 'updateTodo': return {\r\n      ...state,\r\n      todos: state.todos.map(t => {\r\n        if (t.id === action.id) t.checked = ! t.checked\r\n        return t\r\n      })\r\n    }\r\n    case 'deleteTodo': return {\r\n      ...state,\r\n      todos: state.todos.filter(t => t.id !== action.id)\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport const TodoProvider = ({children}) => {\r\n  const [state, dispatch] = useReducer(todoReducer, {\r\n    todos: []\r\n  })\r\n\r\n  const setTodos = todos => dispatch({type: 'setTodos', todos})\r\n  const updateTodo = id => dispatch({type: 'updateTodo', id})\r\n  const deleteTodo = id => dispatch({type: 'deleteTodo', id})\r\n\r\n  return <TodoContext.Provider value={{\r\n    todos: state.todos,\r\n    setTodos,\r\n    updateTodo,\r\n    deleteTodo\r\n  }}>{children}</TodoContext.Provider>\r\n}\r\n\r\nexport default TodoContext\r\n\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport Header from '../components/Header'\r\nimport Alert from '../components/Alert'\r\nimport TodoList from '../components/TodoList'\r\nimport TodoContext from '../context/TodoContext'\r\nimport { useAuth } from '../hooks/auth.hook'\r\nimport { useHttp } from '../hooks/http.hook'\r\n\r\n\r\nexport default function TodoListPage() {\r\n  const [alert, setAlert] = useState(null)\r\n\r\n  const {todos, setTodos, updateTodo, deleteTodo} = useContext(TodoContext)\r\n  const {token} = useAuth()\r\n  const {request} = useHttp()\r\n\r\n\r\n  useEffect(async () => {\r\n    await request('/api/todos/', 'get', null, {authorization: `Token ${token()}`})\r\n      .then(res => {\r\n        if (res.success) {\r\n          delete res.success\r\n          setTodos(res)\r\n        }\r\n      })\r\n  }, [])\r\n\r\n\r\n  const update = async id => {\r\n    updateTodo(id)\r\n    await request(`/api/todos/updatechecked/${id}`, 'post', null, {authorization: `Token ${token()}`})\r\n  }\r\n\r\n  const _delete = async id => {\r\n    deleteTodo(id)\r\n    await request(`/api/todos/delete/${id}`, 'post', null, {authorization: `Token ${token()}`})\r\n    const {title} = todos.find(t => t.id === id)\r\n    setAlert([[`Задание ${title} было удалено`]])\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      <Header />\r\n      <div className=\"container p-4 position-relative\">\r\n        {todos.length ? <TodoList\r\n          todos={todos}\r\n          updateTodos={update}\r\n          deleteTodos={_delete}\r\n        /> : <h1>No todos</h1>}\r\n      </div>\r\n      {alert ? <Alert messages={alert} clearState={setAlert} status=\"danger\" delay={1000} /> : null}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useHttp } from '../hooks/http.hook'\r\nimport { useAuth } from '../hooks/auth.hook'\r\nimport '../css/loader.css'\r\n\r\n\r\nexport default function ConfrimRegPage() {\r\n  const {request} = useHttp()\r\n  const {login} = useAuth()\r\n  const {uid, token} = useParams()\r\n\r\n\r\n  useEffect(async () => {\r\n    const resp = await request('/auth/users/activation/', 'post', {uid, token})\r\n\r\n    if (resp.success) {\r\n      const {username, password} = JSON.parse(localStorage.getItem('userData'))\r\n      localStorage.removeItem('userData')\r\n\r\n      const resp = await request('/auth/token/login/', 'post', {username, password})\r\n\r\n      if (resp.success) {\r\n        login(resp.auth_token)\r\n      }\r\n\r\n      window.location.reload()\r\n    }\r\n\r\n  }, [uid, token])\r\n\r\n  return (\r\n    <div className=\"w-100 h-75 d-flex align-items-center justify-content-center\">\r\n      <div className=\"lds-ring\">\r\n        <div/>\r\n        <div/>\r\n        <div/>\r\n        <div/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n","import React, { useEffect } from 'react'\r\nimport { useAuth } from '../hooks/auth.hook'\r\nimport { useHttp } from '../hooks/http.hook'\r\nimport '../css/loader.css'\r\n\r\n\r\nexport default function LogoutPage() {\r\n  const {request} = useHttp()\r\n  const {token, logout} = useAuth()\r\n\r\n\r\n  useEffect(async () => {\r\n    await request('/auth/token/logout/', 'post', null, {authorization: `Token ${token()}`})\r\n    logout()\r\n    window.location.reload()\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className=\"w-100 h-75 d-flex align-items-center justify-content-center\">\r\n      <div className=\"lds-ring\">\r\n        <div/>\r\n        <div/>\r\n        <div/>\r\n        <div/>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect, useRef } from 'react'\r\nimport Header from '../components/Header'\r\nimport Alert from '../components/Alert'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { useHttp } from '../hooks/http.hook'\r\nimport { useAuth } from '../hooks/auth.hook'\r\n\r\n\r\nexport default function DetailTodoPage() {\r\n  const [todo, setTodo] = useState({})\r\n  const [alert, setAlert] = useState(null)\r\n  const [alertStatus, setAlertStatus] = useState('success')\r\n\r\n  const titleRef = useRef(null)\r\n  const id = useParams().id\r\n  const {push} = useHistory()\r\n  const {request} = useHttp()\r\n  const {token} = useAuth()\r\n\r\n  \r\n  useEffect(async () => {\r\n    const todo = await request(`/api/todos/${id}`, 'get', null, {authorization: `Token ${token()}`})\r\n    if (!todo.success) {\r\n      push('/todos/')\r\n    }\r\n    setTodo(todo)\r\n  }, [id])\r\n\r\n\r\n  const _delete = async () => {\r\n    await request(`/api/todos/delete/${todo.id}`, 'post', null, {authorization: `Token ${token()}`})\r\n    push('/todos/')\r\n  }\r\n\r\n  const update = async () => {\r\n    setTodo(prev => ({\r\n      ...prev,\r\n      checked: !prev.checked\r\n    }))\r\n    await request(`/api/todos/updatechecked/${id}`, 'post', null, {authorization: `Token ${token()}`})\r\n  }\r\n\r\n  const save = async () => {\r\n    const {title, description} = todo\r\n    if (!title.trim()) {\r\n      titleRef.current.classList.add('has-error')\r\n    } else {\r\n      titleRef.current.classList.remove('has-error')\r\n      const resp = await request(`/api/todos/update/${todo.id}`, 'post', {title, description}, {authorization: `Token ${token()}`})\r\n      const success = resp.success\r\n      const mess = Object.entries(resp)\r\n\r\n      mess.pop()\r\n      setAlert(mess)\r\n      setAlertStatus(success ? 'success' : 'danger')\r\n    }\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      <Header page=\"none\" />\r\n      <div className=\"container p-4 position-relative\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h5 className=\"card-title d-flex align-items-center\">\r\n              <input style={todo.checked ? {textDecoration: 'line-through'} : {}} placeholder=\"Title\" type=\"text\" value={todo.title} ref={titleRef} className=\"form-custom-control\" onChange={e => setTodo(prev => ({\r\n                ...prev,\r\n                title: e.target.value\r\n              }))}/>\r\n              &nbsp;\r\n              <input maxLength={30} onChange={() => update()} type=\"checkbox\" checked={!!todo.checked} className=\"form-check-input\" style={{\r\n                float: 'none',\r\n                marginLeft: 8,\r\n                position: 'unset',\r\n              }}/>\r\n            </h5>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <p className=\"card-text\" style={{fontSize: '1.1rem'}}>\r\n              <textarea rows=\"3\" className=\"form-control\" placeholder=\"Description\" value={todo.description} maxLength={100} onChange={e => setTodo(prev => ({\r\n                ...prev,\r\n                description: e.target.value\r\n              }))}/>\r\n            </p>\r\n            <br/>\r\n            <p className=\"card-text\">{todo.created_at}</p>\r\n          </div>\r\n          <div className=\"card-footer\">\r\n            <button className=\"btn btn-success mr-4\" onClick={save} style={{fontSize: '1.2rem'}}>Save</button>\r\n            <button className=\"btn btn-danger\" onClick={_delete} style={{fontSize: '1.2rem'}}>Delete</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {alert ? <Alert messages={alert} clearState={setAlert} status={alertStatus} /> : null}\r\n    </div>\r\n  )\r\n}","import React, { useState, useRef } from 'react'\r\nimport Header from '../components/Header'\r\nimport Alert from '../components/Alert'\r\nimport { useHttp } from '../hooks/http.hook'\r\nimport { useAuth } from '../hooks/auth.hook'\r\n\r\n\r\nexport default function AddTodoPage() {\r\n  const [form, setForm] = useState({title: '', description: ''})\r\n  const [alertStatus, setAlertStatus] = useState('success')\r\n  const [alert, setAlert] = useState(null)\r\n\r\n  const titleRef = useRef(null)\r\n  const titleLabelRef = useRef(null)\r\n\r\n  const {request} = useHttp()\r\n  const {token} = useAuth()\r\n\r\n\r\n  const submitHandler = async () => {\r\n    const {title, description} = form\r\n    const errors = []\r\n\r\n    if (!title.trim()) {\r\n      titleRef.current.classList.add('has-error')\r\n      titleLabelRef.current.classList.add('has-error')\r\n      titleLabelRef.current.innerText = 'This field is required'\r\n      errors.push(false)\r\n    } else {\r\n      titleRef.current.classList.remove('has-error')\r\n      titleLabelRef.current.classList.remove('has-error')\r\n      titleLabelRef.current.innerText = 'Username'\r\n    }\r\n\r\n    if (!errors.length) {\r\n      const resp = await request('/api/todos/create', 'post', {title, description}, {authorization: `Token ${token()}`})\r\n      if (resp.success) {\r\n        const mess = Object.entries(resp)\r\n        mess.pop()\r\n        console.log(mess)\r\n        setAlert(mess)\r\n        setAlertStatus('success')\r\n      } else {\r\n        const mess = Object.entries(resp)\r\n        mess.pop()\r\n        setAlert(mess)\r\n        setAlertStatus('danger')\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      <Header page=\"add\" />\r\n      <div className=\"container p-4 d-flex justify-content-center position-relative\">\r\n        <div className=\"card mycard text-center bg-dark text-white mt-4\" style={{width: '25rem'}}>\r\n          <div className=\"card-header\"><h2>Add Todo</h2></div>\r\n          <div className=\"card-body position-relative\">\r\n            <form className=\"text-left\">\r\n\r\n              <div className=\"form-group mt-3\">\r\n                <input type=\"text\" ref={titleRef} className=\"form-control\" id=\"title\" placeholder=\"Title\" maxLength={30} onChange={e => setForm(prev => ({\r\n                  ...prev,\r\n                  title: e.target.value\r\n                }))}/>\r\n                <label htmlFor=\"title\" ref={titleLabelRef}>Title</label>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <textarea id=\"desc\" cols=\"30\" rows=\"3\" className=\"form-control\" placeholder=\"Description\" maxLength={100} onChange={e => setForm(prev => ({\r\n                  ...prev,\r\n                  description: e.target.value\r\n                }))}/>\r\n                <label htmlFor=\"desc\">Description</label>\r\n              </div>\r\n\r\n            </form>\r\n          </div>\r\n          <div className=\"card-footer text-left\">\r\n            <button className=\"btn btn-primary btn-lg\" onClick={submitHandler}>Submit</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {alert ? <Alert messages={alert} clearState={setAlert} status={alertStatus} /> : null}\r\n    </div>\r\n  )\r\n}","import React from 'react'\nimport { BrowserRouter } from 'react-router-dom'\nimport { userRoutes } from './router'\nimport { useAuth } from './hooks/auth.hook'\nimport { TodoProvider } from './context/TodoContext'\n\n\nexport default function App() {\n  const {token} = useAuth()\n  const routes = userRoutes(!!token())\n\n  return (\n    <BrowserRouter>\n      <TodoProvider>\n        {routes}\n      </TodoProvider>\n    </BrowserRouter>\n  )\n}\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport AuthPage from './pages/AuthPage'\r\nimport TodoListPage from './pages/TodoListPage';\r\nimport ConfrimRegPage from \"./pages/ConfrimRegPage\"\r\nimport LogoutPage from \"./pages/LogoutPage\"\r\nimport DetailTodoPage from \"./pages/DetailTodoPage\"\r\nimport AddTodoPage from \"./pages/AddTodoPage\"\r\n\r\n\r\nexport const userRoutes = isAuthenticated => {\r\n  if (isAuthenticated) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/todos/\" exact>\r\n          <TodoListPage />\r\n        </Route>\r\n        <Route path=\"/todos/:id\">\r\n          <DetailTodoPage />\r\n        </Route>\r\n        <Route path=\"/addtodo\" exact>\r\n          <AddTodoPage />\r\n        </Route>\r\n        <Route path=\"/logout\">\r\n          <LogoutPage />\r\n        </Route>\r\n        <Redirect to=\"/todos/\" />\r\n      </Switch>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact>\r\n        <AuthPage />\r\n      </Route>\r\n      <Route path=\"/activate/:uid/:token\">\r\n        <ConfrimRegPage />\r\n      </Route>\r\n      <Redirect to=\"/\"/>\r\n    </Switch>\r\n  )\r\n}\r\n\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './css/index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}